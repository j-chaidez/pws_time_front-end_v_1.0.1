<!DOCTYPE html>
<html>
	<head>
	  <title>PWS Time Keeping</title>
	  <meta charset="utf-8" />
	  <meta name="viewport" content="width=device-width, initial-scale=1">
	  <link rel="stylesheet"  href="resources/jquery.mobile-git.css" /> 
	  <link rel="stylesheet" href="resources/jquery.mobile.datepicker.css" />
	  <script src="resources/jquery-1.9.1.js"></script> 
	  <script src="resources/jquery.ui.datepicker.js"></script>
	  <script src="resources/jquery.mobile-git.js"></script> 
	  <script src="resources/jquery.mobile.datepicker.js"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.4/bluebird.min.js"></script>
	  <link rel="stylesheet" href="main.css">
	</head>
	<body>
		<div id="modal-load" class="modal-hidden"></div>
		<img src="img/loader.gif" id="boot-progress" class="modal-hidden">
		<div data-role="page" id="clockInPage" data-theme="b">
			<div data-role="header" id="header">
				<h1>Pacific West Sound</h1>
			</div>
			<div data-role="header" id="header">
				<div data-role="navbar" id="navbar">
					<ul>
						<li><a href="#clockInPage" data-icon="clock">Clock In</a></li>
						<li><a href="#latepunch" data-icon="calendar">Late Punch</a></li>
						<li><a href="#search" data-icon="search">Search</a></li>
					</ul>
				</div>
			</div>
			<img src="img/paclogo.png" id="logo">
			<div class="select-wrapper">
				<select name="location-list" id="location-list">
					<option>SELECT LOCATION</option>
				</select>
			</div>
			<button class="ui-btn" id="clockin">Clock In</button>
			<button class="ui-btn" id="clockout">Clock Out</button>
			<div id="clock-in-label-container" class='label-none'>
				<h4 id="clock-in-time-label"></h4>
			</div>
			<img src="img/loader.gif" id="clock-in-progress" class="hidden">
			<div data-role="footer" data-position="fixed" data-fullscreen="true">
			</div>
			<div data-role="popup" id="locationError" data-transition="fade" style="width: 250px; padding: 10px;">
				<div data-role="header"><h1>Error</h1></div>
				<h2>Whoops!</h2>
				<p>You must enter a location</p>
				<a href="#clockInPage" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-back ui-btn-icon-left" data-rel="back">Go Back</a>
				</div>
			</div>
		</div>
		<div data-role="page" id="latepunch" data-theme="b">
			<div data-role="header" id="header">
				<h1>Pacific West Sound</h1>
			</div>
			<div data-role="header" id="header">
				<div data-role="navbar" id="navbar">
					<ul>
						<li><a href="#clockInPage" data-icon="clock">Clock In</a></li>
						<li><a href="#latepunch" data-icon="calendar">Late Punch</a></li>
						<li><a href="#search" data-icon="search">Search</a></li>
					</ul>
				</div>
			</div>
			<img src="img/paclogo.png" id="logo">
			<div class="select-wrapper">
				<select name="location-list-late" id="location-list-late">
					<option>SELECT LOCATION</option>
				</select>
			</div>
			<div data-role="collapsible" id="latepunchstartdate">
				<h1>Punch In</h1>	
				<input type="text" id="start-date">
				<div id="start-time-wrapper" class="time-wrapper">
					<div class="hour">
						<select name="start-hour" id="start-hour">
						</select>
					</div>
					<div class="minute">
						<select name="start-minute" id="start-minute">
							<option>00</option>
						</select>
					</div>
					<div class="time-of-day">
						<select name="start-am-pm" id="start-am-pm">
							<option>AM</option>
							<option>PM</option>
						</select>
					</div>
				</div>
			</div>
			<div data-role="collapsible" id="latepunchenddate">
				<h1>Punch Out</h1>
				<input type="text" id="end-date">
				<div id="end-time-wrapper" class="time-wrapper">
					<div class="hour">
						<select name="end-hour" id="end-hour">
						</select>
					</div>
					<div class="minute">
						<select name="end-minute" id="end-minute">
							<option>00</option>
						</select>
					</div>
					<div class="time-of-day">
						<select name="end-am-pm" id="end-am-pm">
							<option>AM</option>
							<option>PM</option>
						</select>
					</div>
				</div>
			</div>
			<div id="flip-wrapper">
				<label for="switch">Stay Clocked In</label>
				<input type="checkbox" id="stay-in" data-role="flipswitch" name="switch" id="switch" data-on-text="Yes" data-off-text="No">
			</div>
			<button class="ui-btn" id="submit-late">Submit</button>
			<div data-role="popup" id="latePunchError" data-transition="fade" style="width: 250px; padding: 10px;">
				<div data-role="header"><h1>Error</h1></div>
				<h2>Hooray!</h2>
				<p>Your punch was submitted successfully!</p>
				<a href="#clockInPage" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b ui-icon-back ui-btn-icon-left" data-rel="back">Go Back</a>
				</div>
			</div>
		</div>
		<div data-role="page" id="search" data-theme="b">
			<div data-role="header" id="header">
				<h1>Pacific West Sound</h1>
			</div>
			<div data-role="header" id="header">
				<div data-role="navbar" id="navbar">
					<ul>
						<li><a href="#clockInPage" data-icon="clock">Clock In</a></li>
						<li><a href="#latepunch" data-icon="calendar">Late Punch</a></li>
						<li><a href="#search" data-icon="search">Search</a></li>
					</ul>
				</div>
			</div>
			<img src="img/paclogo.png" id="logo">
			<div data-role="collapsible" id="searchpunchstartdate">
				<h1>Start Date</h1>	
				<input type="text" id="search-start-date">
			</div>
			<div data-role="collapsible" id="searchpunchenddate">
				<h1>End Date</h1>
				<input type="text" id="search-end-date">
			</div>
			<button class="ui-btn" id="submit-search">Submit</button>
		</div>
		<script src="app.js"></script>
		<script>
			function fillTime() {
				var startHours = document.getElementById("start-hour")
				var endHours = document.getElementById("end-hour");
				var startMinute = document.getElementById("start-minute");
				var endMinute = document.getElementById("end-minute");
				for (var i = 1; i <= 59; i++) {
					var optionStart = document.createElement("OPTION");
					var optionEnd = document.createElement("OPTION");
					var optionStartM = document.createElement("OPTION");
					var optionEndM = document.createElement("OPTION");
					if (i <= 12) {
						optionStart.text = i;
						optionEnd.text = i;
						if (i < 10) {
							optionStartM.text = "0" + i;
							optionEndM.text = "0" + i;
						} else {
							optionStartM.text = i;
							optionEndM.text = i;
						}
						startHours.add(optionStart);
						endHours.add(optionEnd);
					} else {
						optionStartM.text = i;
						optionEndM.text = i;
					}
					startMinute.add(optionStartM);
					endMinute.add(optionEndM);
				}
			}
			
			fillTime();
  
			$("#latepunchstartdate").datepicker( {
				onSelect: function(date) {
					document.getElementById("start-date").value = date;
				}
			});
			
			$("#latepunchenddate").datepicker( {
				onSelect: function(date) {
					document.getElementById("end-date").value = date;
				}
			});
			
			$("#searchpunchstartdate").datepicker( {
				onSelect: function(date) {
					document.getElementById("search-start-date").value = date;
				}
			});
			
			$("#searchpunchenddate").datepicker( {
				onSelect: function(date) {
					document.getElementById("search-end-date").value = date;
				}
			});
		</script>
	</body>
</html>
	